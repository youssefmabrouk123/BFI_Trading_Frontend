<div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-6 text-gray-800">Tableau de bord du trader</h1>
  
    <!-- Statistiques -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-lg font-semibold text-gray-700">Transactions</h2>
        <p class="text-2xl font-bold text-blue-600">{{ stats.transactionCount }}</p>
      </div>
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-lg font-semibold text-gray-700">Volume total</h2>
        <p class="text-2xl font-bold text-green-600">{{ stats.totalVolume }} USD</p>
      </div>
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-lg font-semibold text-gray-700">Profit/Perte</h2>
        <p class="text-2xl font-bold" [ngClass]="{'text-green-600': stats.totalProfitLoss >= 0, 'text-red-600': stats.totalProfitLoss < 0}">
          {{ stats.totalProfitLoss }} USD
        </p>
      </div>
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-lg font-semibold text-gray-700">Valeur du portefeuille</h2>
        <p class="text-2xl font-bold text-blue-600">{{ stats.currentPortfolioValue }} USD</p>
      </div>
    </div>
  
    <!-- Graphiques -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-lg font-semibold text-gray-700 mb-4">Profit/Perte par jour</h2>
        <canvas baseChart
                [data]="lineChartData"
                [options]="lineChartOptions"
                [type]="'line'">
        </canvas>
      </div>
      <div class="bg-white p-4 rounded-lg shadow">
        <h2 class="text-lg font-semibold text-gray-700 mb-4">Volume par devise</h2>
        <canvas baseChart
                [data]="donutChartData"
                [options]="donutChartOptions"
                [type]="'doughnut'">
        </canvas>
      </div>
    </div>
  
    <!-- Transactions récentes -->
    <div class="bg-white p-4 rounded-lg shadow mt-6">
      <h2 class="text-lg font-semibold text-gray-700 mb-4">Transactions récentes</h2>
      <table class="w-full text-left">
        <thead>
          <tr class="bg-gray-100">
            <th class="p-2">Type</th>
            <th class="p-2">Détails</th>
            <th class="p-2">Montant</th>
            <th class="p-2">Date</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let tx of stats.recentTransactions" class="border-b">
            <td class="p-2">{{ tx.actionType }}</td>
            <td class="p-2">{{ tx.details }}</td>
            <td class="p-2">{{ tx.amount }}</td>
            <td class="p-2">{{ tx.actionTime | date:'medium' }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>