<!-- <div class="chart-container">
    <div *ngIf="loading" class="loading-overlay">
      <div class="spinner"></div>
      <span>Loading chart...</span>
    </div>
  
    <div *ngIf="updating && !loading" class="updating-indicator">
      <span>Updating...</span>
    </div>
  
    <div class="chart-header">
      <div class="pair-info">
        <h3 class="pair-name">{{ pairName }}</h3>
        <div class="price-info">
          <span class="latest-price">{{ latestPrice | number:'1.2-6' }}</span>
          <span class="price-change" [ngClass]="{'text-green-500': priceDirection === 'up', 'text-red-500': priceDirection === 'down'}">
            <i class="material-icons">{{ priceDirection === 'up' ? 'arrow_upward' : 'arrow_downward' }}</i>
            {{ priceChange | number:'1.2-6' }} ({{ priceChangePercent | number:'1.2-2' }}%)
          </span>
        </div>
      </div>
      <div class="controls">
        <div class="timeframe-selector">
          <button *ngFor="let timeframe of availableTimeframes" 
                  [class.active]="timeframe === selectedTimeframe"
                  (click)="changeTimeframe(timeframe)">
            {{ timeframe }}
          </button>
        </div>
        <div class="indicator-selector">
          <button [class.active]="showSMA" (click)="toggleIndicator('sma')">SMA</button>
          <button [class.active]="showEMA" (click)="toggleIndicator('ema')">EMA</button>
          <button [class.active]="showVolume" (click)="toggleIndicator('volume')">VOL</button>
          <button [class.active]="showRSI" (click)="toggleIndicator('rsi')">RSI</button>
          <button [class.active]="showMACD" (click)="toggleIndicator('macd')">MACD</button>
        </div>
      </div>
    </div>
  
    <div class="chart-controls">
      <div class="left-controls">
        <button [class.active]="isDrawing" (click)="toggleDrawing()">
          <i class="material-icons">edit</i> Draw
        </button>
        <button (click)="zoomChart('in')"><i class="material-icons">zoom_in</i></button>
        <button (click)="zoomChart('out')"><i class="material-icons">zoom_out</i></button>
        <button (click)="zoomChart('reset')"><i class="material-icons">fit_screen</i></button>
      </div>
      <div class="right-controls">
        <button class="buy" (click)="placeOrder('buy')">Buy</button>
        <button class="sell" (click)="placeOrder('sell')">Sell</button>
      </div>
    </div>
  
    <div class="">
      <div #chartElement class="chart-element"></div>
    </div>
  
    <div class="alerts-section">
      <div class="alert-form">
        <input type="number" 
               [(ngModel)]="alertPrice"
               placeholder="Set alert price" 
               step="0.000001">
        <select [(ngModel)]="alertCondition">
          <option value="above">Above</option>
          <option value="below">Below</option>
        </select>
        <button (click)="addAlert()">Add Alert</button>
      </div>
      <div *ngIf="alerts.length" class="alert-list">
        <div *ngFor="let alert of alerts" class="alert-item">
          <span>Alert: Price {{ alert.condition }} {{ alert.price | number:'1.2-6' }} {{ alert.triggered ? '(Triggered)' : '' }}</span>
          <button (click)="removeAlert(alert.id)">
            <i class="material-icons">delete</i>
          </button>
        </div>
      </div>
    </div>
  
    <div class="chart-footer">
      <div class="ohlc-info">
        <span>O: {{ latestOHLC?.open | number:'1.2-6' }}</span>
        <span>H: {{ latestOHLC?.high | number:'1.2-6' }}</span>
        <span>L: {{ latestOHLC?.low | number:'1.2-6' }}</span>
        <span>C: {{ latestOHLC?.close | number:'1.2-6' }}</span>
        <span>Vol: {{ formatVolume(latestOHLC?.volume) }}</span>
      </div>
      <div class="indicator-info">
        <span *ngIf="showSMA"><i class="indicator-dot sma"></i> SMA(20): {{ currentSMA | number:'1.2-6' }}</span>
        <span *ngIf="showEMA"><i class="indicator-dot ema"></i> EMA(50): {{ currentEMA | number:'1.2-6' }}</span>
        <span *ngIf="showRSI"><i class="indicator-dot rsi"></i> RSI(14): {{ currentRSI | number:'1.2-2' }}</span>
        <span *ngIf="showMACD"><i class="indicator-dot macd"></i> MACD: {{ currentMACD | number:'1.2-6' }}</span>
        <span *ngIf="showMACD"><i class="indicator-dot signal"></i> Signal: {{ currentSignal | number:'1.2-6' }}</span>
      </div>
    </div>
  </div> -->


  <div class="chart-container">
    <!-- Loading Overlay -->
    <div *ngIf="loading" class="loading-overlay">
      <div class="spinner"></div>
      <span>Loading chart...</span>
    </div>
  
    <!-- Updating Indicator -->
    <div *ngIf="updating && !loading" class="updating-indicator">
      <span>Updating...</span>
    </div>
    
    <!-- Header -->
    <div class="chart-header">
      <div class="pair-info">
        <h3 class="pair-name">{{ pairName }}</h3>
        <div class="price-info">
          <span class="latest-price">{{ latestPrice | number:'1.2-6' }}</span>
          <span class="price-change" [ngClass]="{'text-green-500': priceDirection === 'up', 'text-red-500': priceDirection === 'down'}">
            <i class="material-icons">{{ priceDirection === 'up' ? 'arrow_upward' : 'arrow_downward' }}</i>
            {{ priceChange | number:'1.2-6' }} ({{ priceChangePercent | number:'1.2-2' }}%)
          </span>
        </div>
      </div>
    </div>
    
    <!-- Chart -->
    <div class="chart-wrapper">
      <div #chartElement class="chart-element"></div>
    </div>
  </div>