<div class="popup-container">
  <div class="popup-content">
    <div class="popup-header">
      <h2 class="popup-title">Confirm Close Position</h2>
      <button class="close-btn" (click)="closeDialog()">
        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1 1L13 13M1 13L13 1" stroke="#E5BF7D" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <div class="popup-body">
      <div class="alert-icon">
        <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" stroke="#E5BF7D" stroke-width="1.5"/>
          <path d="M12 8V12" stroke="#E5BF7D" stroke-width="1.5" stroke-linecap="round"/>
          <circle cx="12" cy="16" r="1" fill="#E5BF7D"/>
        </svg>
      </div>
      <p class="message">
        You are about to close the following position:
      </p>

      <div class="position-details">
        <div class="detail-row">
          <span class="detail-label">Instrument:</span>
          <span class="detail-value">{{ data.position?.crossParityName }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Status:</span>
          <span class="detail-value">{{ data.position?.status }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Direction:</span>
          <span class="detail-value">{{ data.position?.direction }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Quantity:</span>
          <span class="detail-value">{{ data.position?.quantity }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Open Price:</span>
          <span class="detail-value">${{ data.position?.openPrice }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Current Price:</span>
          <span class="detail-value">${{ data.position?.currentPrice }}</span>
        </div>
        <div class="detail-row">
          <span class="detail-label">Profit/Loss:</span>
          <span class="detail-value" [class]="getValueClass(data.position?.profitLoss)">
            {{ data.position?.profitLoss }}
          </span>
        </div>
      </div>
    </div>
    <div class="popup-actions">
      <button class="btn-cancel" (click)="closeDialog()">Cancel</button>
      <button class="btn-confirm" (click)="confirmTrade()">Confirm Close</button>
    </div>
  </div>
</div>